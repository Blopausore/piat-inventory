<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Supplier Orders</title>

    <!-- DataTables CSS and JS -->
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.13.5/css/jquery.dataTables.min.css">
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/1.13.5/js/jquery.dataTables.min.js"></script>
</head>
<body>
    <h1>Supplier Orders</h1>

    <table id="ordersTable" class="display" style="width:100%">
        <thead>
            <tr>
                <th>Date</th>
                <th>Book No.</th>
                <th>Order No.</th>
                <th>Tax Invoice</th>
                <th>Supplier</th>
                <th>PC</th>
                <th>Stone</th>
                <th>H/NH</th>
                <th>Color</th>
                <th>Shape</th>
                <th>Cutting</th>
                <th>Size</th>
                <th>Carats</th>
                <th>Currency (US/THB)</th>
                <th>Price per Unit</th>
                <th>PER</th>
                <th>Total THB</th>
                <th>Weight per Piece</th>
                <th>Price $/ct</th>
                <th>Price $ per Piece</th>
                <th>Total USD</th>
                <th>Rate Avg 2019</th>
                <th>Remarks</th>
                <th>Credit Term</th>
                <th>Target Size</th>
            </tr>
        </thead>
    </table>

    <script>
    $(document).ready(function() {
        $('#ordersTable').DataTable({
            "processing": true,
            "serverSide": true,
            "ajax": {
                "url": "{% url 'supplier_orders_json' %}",
                "type": "GET"
            },
            "pageLength": 25,
            "scrollX": true,
            "order": [[0, 'desc']],  // default sort: latest date first
            "columns": [
                { "name": "date" },
                { "name": "book_no" },
                { "name": "order_no" },
                { "name": "tax_invoice" },
                { "name": "supplier" },
                { "name": "number" },
                { "name": "stone" },
                { "name": "heating" },
                { "name": "color" },
                { "name": "shape" },
                { "name": "cutting" },
                { "name": "size" },
                { "name": "carats" },
                { "name": "currency" },
                { "name": "price_cur_per_unit" },
                { "name": "unit" },
                { "name": "total_thb" },
                { "name": "weight_per_piece" },
                { "name": "price_usd_per_ct" },
                { "name": "price_usd_per_piece" },
                { "name": "total_usd" },
                { "name": "rate_avg_2019" },
                { "name": "remarks" },
                { "name": "credit_term" },
                { "name": "target_size" }
            ]
        });
    });
    </script>
</body>
</html>
